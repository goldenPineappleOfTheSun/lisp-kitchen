(define (foldl func initial lst)
  (if (null? lst)
      initial
      (foldl func (func initial (car lst)) (cdr lst))))

; ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ð°: Ñ‡ÐµÐ¹Ð½Ð¸Ñ‚ Ð²Ñ‹Ð·Ð¾Ð²Ñ‹ Ð²Ð¼ÐµÑÑ‚Ðµ
(define (>> object . commands)
    (foldl 
           (lambda (result cmd) (apply result cmd))
           object
           commands))

; Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°
(define (template-product name icon)
    (lambda (cmd . args)
        (cond 
          ((eq? cmd 'print) icon)
          ((eq? cmd 'name) name)
         )))

; ÐºÑƒÑ€Ð¸Ñ†Ð°
(define (make-chicken)
  (template-product "chicken" "ðŸ—"))

; ÑÐ±Ð»Ð¾ÐºÐ¾
(define (make-apple)
  (template-product "apple" "ðŸŽ"))

; Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ñ…Ð¾Ð»Ð¾Ð´Ð¸Ð»ÑŒÐ½Ð¸ÐºÐ°
(define (make-fridge . items)
  (lambda (cmd . args)
    (cond 
      ((eq? cmd 'print) (map (lambda (item) (item 'print)) items))
      ((eq? cmd 'put) (apply make-fridge (append items args)))
      ((eq? cmd 'get) (find (lambda (item) (equal? (car args) (item 'name))) items))
     )))
 
(define chicken1 (make-chicken))
(define apple1 (make-apple))
(define apple2 (make-apple))
(define empty-fridge (make-fridge))
(display (>> empty-fridge (list 'put apple1 apple2 chicken1) (list 'print)))